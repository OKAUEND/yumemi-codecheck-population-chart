## プロジェクト名

47 都道府県毎の人口情報表示プロジェクト

## プロジェクト目的

RESAS - 地域経済分析システムより都道府県情報を取得し、各都道府県毎の人口情報の推移をグラフで表示する。

## 実装範囲

- 47 都道府県は RESAS より取得する
- 47 都道府県はリスト表示し、選択した都道府県の人口情報を RESAS より取得する
- 取得した人口情報で初期は総人口をグラフに表示する
- 追加操作として、「年少人口」「生産年齢人口」「老年人口」のみへ切り替えが行える
- 切り替えが行った条件で絞り込みをし、グラフへ表示する
- 公開サイトは Github pages とすること

## 実装範囲外

- ユーザーログインを含めた、ログイン処理は実装しない
- 閲覧者ごとの選択情報は永続保持はしない
- RESAS を利用するため、サーバーサイドと DB は実装しない
- グラフは自前実装ではなく、公開ライブラリを使用する

## 前提条件

- どの端末でも確認できるよう、レスポンシブデザインで実装する
- 選択がしやすいよう、UI は大きめに作成すること
- 運用費用を抑えるため、無料公開が行えるサービスで公開する事
- Github Pages で公開し、公開作業などは CI/CD などを実装し自動化すること
- グラフやチェックボックスなどの UI のコンポーネントと、データ取得のロジックを分離し実装すること
- 開発期間が限られているため、プロジェクトの進捗管理やタスクの優先順位付けについても考慮する必要がある

## 技術要件

以下に今回のプロジェクトで使用する技術要件を記載する
使用するライブラリは以下の通り

### バージョン管理

- Github
  main - 本番環境
  develop - 開発環境
  featuer/\* - 機能毎の開発作業ブランチ

開発作業者は develop を元に作業ブランチを作成し、機能実装の作業を行う事。
作業成果を develop へはある程度の形が実装できたらプルリクの形式で行うこと。
すべての機能が実装が終えたらの develop への反映行為はコンフリクト発生の可能性を高めるため禁止する。
プルリクを行う際には、テストやコード解析を行い、エラーが発生していないことを確認の後に行うこと。

### 必須

- React
- TypeScript
- ESLint
- Prettier

上記技術は必須要件なため、必ず導入する事

### 追加

- Node.js
  最新の安定バージョンである Node 18 を使用すること

- Rechart.js
  チャートは[Rechart.js]を利用する。
  TypeScript に対応しており、スター数も多く、現在もメンテナンスや更新が続いているため採用

- Deta Fetching - FetchAPI
  RESAS API は GrapQL 対応がなされていなため、urql などは使わず FetchAPI を使う

- Recoil
  状態管理及びロジックを担当させるために、Recoil を使用する。

- CSS Module
  UI フレームワークなどは禁止要件なので、代替として sass + CSS Module で構成する

- Vite
  ビルド速度が早いなどの開発体験がよいため、Vite をビルドツールとして選択する
  最新版を使用すること

- Vitest
  Vite を使用しているため、Vite 環境をそのまま使える Vitest を使用
  ver0.30 でメインバージョンが 1.00 ではないが、ドキュメントなどに本番非推奨はないため使用と判断
  Jest などで環境構築の速度が違うなども理由

- c8
  カバレッジチェックでは Vitest で例が載っている c8 を選択

- MSW
  ネットワークレベルでの Mock を行え、テスト環境でも対応可能なため選択

- StoryBook
  UI コンポーネントテストのために選択
  今回初使用であるため、学習などで見積もりなどは高めにとっておくべきだがチャレンジ

- CI/CD - Github Action
  develop ブランチへマージやプルリクを行った時に、コード解析・テストを実行する
  main ブランチへ反映しアプリを公開する場合に、テスト・ビルド・デプロイを行う
  CI/CD のスクリプトは Git の追跡に加えて、共有できるようにしておくこと

### 対応しない技術

- E2E - Cypress
  E2E テスト自体は初経験であり、また実装コストが高いとされるため、結合テストとユニットテストなどで代替し今回は実行しない
  StoryBook が初使用なため、開発期間の短さから一度に 2 つの初使用は開発期間や品質が保証できないのも理由

## 制約条件

- 開発期間は 2 週間以内とする
- 開発予算は 0 円とし、運用予算も 0 円とする
- 開発人員は 1 名
